<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <title>Main Page</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <style>
            .header{
                display: flex;
                justify-content: space-between;
            }
            .button{
                padding: 7px;
                border:0px;
                background-color: #F5F0F6;
                color: #2B4162;
                margin-left: 8px;
                border-radius: 5px;
            }
            .button:hover{
                cursor: pointer;
                font-weight: bold;

            }
            h1{
                color: whitesmoke;
                text-align: center;
                padding: 30px;
                margin: auto;
            }
            body{
                background-color: #385F71;
                font-family: Elvetica,Arial;
            }
            .container{
                display:flex;
                align-items: center;
                margin-left: 700px ;
                padding: 20px;
                border-radius: 15px;
                opacity: 0.9;
                width: 700px;

            }
            pre{
                background:#f8f8f8;
                padding:10px;
                border:1px solid #ddd;
            }
            devicesTable{
                border-collapse: collapse;
                border: 5px #F5F0F6;
                color:  #F5F0F6;
                
            }
        </style>
    </h:head>
    <h:body>
        
        <f:event type="preRenderView" listener="#{loginBean.validate()}" />
        <div class="header">
            <h1>TRAINING APP</h1>
            <h:form >
                <h:commandButton class="button" value="Logout" action="#{loginBean.logout()}" />
            </h:form>
        </div>
        <br/><br/>
        
        <div class="container">
            <h:form id="devicesForm">

                <h:commandButton class="button" value="Get" action="#{indexBean.loadDevices()}"/>
                
                 
                <br/><br/>
                        
                <h:dataTable id="devicesTable" value="#{indexBean.devices}" var="d"
                             border="1" cellpadding="5" cellspacing="0">

                    <h:column>
                        <f:facet name="header">ID</f:facet>
                        #{d.deviceId} 
                    </h:column>

                    <h:column>
                        <f:facet name="header">Brand</f:facet>
                        #{d.brand}
                    </h:column>

                    <h:column>
                        <f:facet name="header">Model</f:facet>
                        #{d.model}
                    </h:column>

                    <h:column>
                        <f:facet name="header">Serial number</f:facet>
                        #{d.serialNumber} 
                    </h:column>

                </h:dataTable>

            </h:form>
        </div>


    </h:body>
</html>

<!--//form amb desplegable: get, post, delete
//get: llista
//post i delete: msg de ok/error
//botÃ³n que ejecute funciones-->